(()=>{"use strict";var e=function(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!t.includes(e[s]))return!1;return!0};function t(e){document.querySelector(e.selector).addEventListener("click",(function(){var t=document.querySelector(e.input),s="";switch(e.input){case"#wdss-title-ending input":s=wdss_localize.site_yoast_ending;break;case"#wdss-jsonld-schema-orgname input":s=wdss_localize.site_name;break;case"#wdss-jsonld-schema-email input":s=wdss_localize.site_email}t.value=s}))}var s=function(e,t){setTimeout((function(){e.remove()}),t)};function n(e){var t=document.querySelector(e.toggler),s=t.hasAttribute("checked"),n=document.querySelector(e.target);s&&n.classList.toggle("hidden"),t.addEventListener("click",(function(){n.classList.toggle("hidden")}))}function i(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];t.forEach((function(e){Array.from(document.querySelectorAll(e.button)).forEach((function(t){t.addEventListener("click",(function(){var s=t.closest("div").querySelector(e.target);""!==s.value&&confirm("Are you sure?")&&(s.value="")}))}))}))}function o(e){Array.from(document.querySelectorAll(e.select)).forEach((function(t){t.addEventListener("click",(function(s){var n;s.preventDefault(),(n=wp.media({title:e.title,multiple:e.is_multiple,library:{type:"image"},button:{text:"Select"}})).on("close",(function(){var s=t.closest(".image-chooser.featured"),i=t.closest(".image-chooser.logo"),o=n.state().get("selection"),a=new Array,c=new Array,r=0;if(s){o.forEach((function(e){a[r]=e.id,r++}));var l=a.join(",");s.querySelector(e.target).value=l}else if(i){o.forEach((function(e){c[r]=e.attributes.url,r++}));var d=c.join(",");i.querySelector(e.target).value=d}})),n.on("open",(function(){var s=t.closest(".wdss-setting-item.image-chooser"),i=n.state().get("selection");s.querySelector(e.target).value.split(",").forEach((function(e){var t=wp.media.attachment(e);t.fetch(),i.add(t?[t]:[])}))})),n.open()}))}))}var a=document.querySelector("#wdss-settings-page"),c={toggler:"#wdss-auto-featured-image-condition input",target:"#wdss-featured-images-group"},r={toggler:"#wdss-advanced-jsonld-schema-condition input",target:"#wdss-advanced-jsonld-schema-group"},l={toggler:"#wdss-polylang-meta-data-condition input",target:"#wdss-polylang-meta-data-group"},d={button:"#wdss-title-clipping-excluded button.reset",target:"#wdss-title-clipping-excluded input"},u={button:"#wdss-title-clipping-by-date button.reset",target:"#wdss-title-clipping-by-date input"},g={button:"#wdss-featured-images-group button.reset",target:"#wdss-featured-images-group input"},m={button:"#wdss-jsonld-schema-logo button.reset",target:"#wdss-jsonld-schema-logo input"},f={select:".image-chooser.featured button.choose",target:".image-chooser.featured input",is_multiple:!0,title:"Select Featured Images"},v={select:".image-chooser.logo button.choose",target:".image-chooser.logo input",is_multiple:!1,title:"Select Organization Logo"},p={selector:"#wdss-generate-orgname",input:"#wdss-jsonld-schema-orgname input"},y={selector:"#wdss-generate-email",input:"#wdss-jsonld-schema-email input"};document.addEventListener("DOMContentLoaded",(function(){var h,S,w,b,_,L,E,q,j,A,k;a&&(document.querySelectorAll(".wdss-section:not(#wdss-snippets-settings) > .wdss-row").forEach((function(e){e.classList.contains("pinned")||e.classList.add("hidden");var t=e.previousElementSibling,s=t.querySelectorAll(".section-toggler");function n(){t.classList.toggle("active"),e.classList.toggle("hidden")}s&&s.forEach((function(e){e.addEventListener("click",n)}))})),function(){var e=document.querySelectorAll(".wdss-section .section-pin"),t=document.querySelectorAll(".wdss-section:not(#wdss-snippets-settings)");function s(){var e,t,s,n=this.closest(".wdss-section-header"),i=n.closest(".wdss-section").getAttribute("id");(JSON.parse(localStorage.getItem("PINNED_WDS_SECTIONS"))||[]).includes(i)?(this.classList.remove("active"),n.querySelector("h2").classList.remove("pinned"),n.querySelector("i.section-toggler").classList.remove("disabled"),e=i,-1!==(s=(t=JSON.parse(localStorage.getItem("PINNED_WDS_SECTIONS"))||[]).indexOf(e))&&t.splice(s,1),localStorage.setItem("PINNED_WDS_SECTIONS",JSON.stringify(t))):(this.classList.add("active"),n.classList.add("active"),function(e){var t=JSON.parse(localStorage.getItem("PINNED_WDS_SECTIONS"))||[];t.push(e),localStorage.setItem("PINNED_WDS_SECTIONS",JSON.stringify(t))}(i),n.querySelector("h2").classList.add("pinned"),n.querySelector("i.section-toggler").classList.add("disabled"))}!function(){var e;localStorage.getItem("PINNED_WDS_SECTIONS")?e=localStorage.getItem("PINNED_WDS_SECTIONS"):(e=[],localStorage.setItem("PINNED_WDS_SECTIONS",JSON.stringify(e)));var s=e;t.forEach((function(e){var t=e.getAttribute("id"),n=e.querySelector(".wdss-section-header"),i=n.nextElementSibling;s.includes(t)&&(e.classList.add("pinned"),n.querySelector("i.section-pin").classList.add("active"),n.querySelector("i.section-toggler").classList.add("disabled"),n.classList.add("active"),n.querySelector("h2").classList.add("pinned"),i.classList.remove("hidden"))}))}(),e.forEach((function(e){e.addEventListener("click",s)}))}(),wdss_localize.total_post_count>0&&(n(c),t(p),o(f),i(d,u,g)),wdss_localize.is_polylang_exists&&wdss_localize.is_polylang_setup&&n(l),b=(w=document.querySelector("#custom-410s-list-settings")).querySelector(".wdss-list-item-handler.add"),_=w.querySelector(".save-dictionary"),L=document.querySelector("#wdss-settings-page form"),E=w.querySelector(".wdss-list-table tbody"),q=w.querySelector("#wdss-410s-dictionary-url"),j=jQuery("#custom-410s-list-settings .wdss-list-table tbody tr"),A=[],jQuery.each(j,(function(){A.push(this.id)})),_.addEventListener("click",(function(){var e=jQuery("#custom-410s-list-settings .wdss-list-table tbody tr"),t=[];e.each((function(e,s){var n=s.querySelector("td:nth-of-type(1)").textContent;t.push(n)})),jQuery.ajax({url:wdss_localize.url,type:"post",dataType:"json",data:{action:"e410_dictionary_update",e410_dictionary:t,security:wdss_localize.e410_dictionary_nonce},success:function(e){var t=w.querySelector(".wdss-list-table-actions span");t&&t.remove(),_.insertAdjacentHTML("afterend",'<span class="msg successful">Table was updated</span>'),s(w.querySelector("span.msg"),1200),_.classList.add("saved")},fail:function(e){var t=w.querySelector(".wdss-list-table-actions span");t&&t.remove(),_.insertAdjacentHTML("afterend",'<span class="msg error">Error, look at information in console</span>'),s(w.querySelector("span.msg"),1200),console.log(e)}})})),b.addEventListener("click",(function(){if(q.value){_.classList.remove("saved");var e=q.value;q.value="",E.insertAdjacentHTML("beforeend",'\n      <tr id="'.concat(wdss_localize.wp_rand,'">\n        <td>').concat(e,'</td>\n        <td class="wdss-list-table__remove-item"><i class="fas fa-trash"></i></td>\n      </tr>\n      '))}})),jQuery(document).on("click","#custom-410s-list-settings .wdss-list-table__remove-item i",(function(){_.classList.remove("saved"),confirm("Remove this rule from table?")&&this.closest("tr").remove()})),L.addEventListener("submit",(function(t){var s,n=jQuery("#custom-410s-list-settings .wdss-list-table tbody tr"),i=[];jQuery.each(n,(function(){i.push(this.id)})),e(A,i)&&(s=!0),s||_.classList.contains("saved")||confirm("All unsaved changes will be lost. Do you want to continue?")||t.preventDefault()})),function(){var t=document.querySelector("#images-settings"),n=t.querySelector(".wdss-list-item-handler.add"),i=t.querySelector(".save-dictionary"),o=document.querySelector("#wdss-settings-page form"),a=t.querySelector(".wdss-list-table tbody"),c=t.querySelector("#wdss-excluded-host-url"),r=jQuery("#images-settings .wdss-list-table tbody tr"),l=[];jQuery.each(r,(function(){l.push(this.id)})),i.addEventListener("click",(function(){var e=jQuery("#images-settings .wdss-list-table tbody tr"),n=[];e.each((function(e,t){var s=t.querySelector("td:nth-of-type(1)").textContent;n.push(s)})),jQuery.ajax({url:wdss_localize.url,type:"post",dataType:"json",data:{action:"excluded_hosts_dictionary_update",excluded_hosts_dictionary:n,security:wdss_localize.excluded_hosts_dictionary_nonce},success:function(e){var n=t.querySelector(".wdss-list-table-actions span");n&&n.remove(),i.insertAdjacentHTML("afterend",'<span class="msg successful">Table was updated</span>'),s(t.querySelector("span.msg"),1200),i.classList.add("saved")},fail:function(e){var n=t.querySelector(".wdss-list-table-actions span");n&&n.remove(),i.insertAdjacentHTML("afterend",'<span class="msg error">Error, look at information in console</span>'),s(t.querySelector("span.msg"),1200),console.log(e)}})})),n.addEventListener("click",(function(){if(c.value){i.classList.remove("saved");var e=c.value;c.value="",a.insertAdjacentHTML("beforeend",'\n      <tr id="'.concat(wdss_localize.wp_rand,'">\n        <td>').concat(e,'</td>\n        <td class="wdss-list-table__remove-item"><i class="fas fa-trash"></i></td>\n      </tr>\n      '))}})),jQuery(document).on("click","#images-settings .wdss-list-table__remove-item i",(function(){i.classList.remove("saved"),confirm("Remove this rule from table?")&&this.closest("tr").remove()})),o.addEventListener("submit",(function(t){var s,n=jQuery("#images-settings .wdss-list-table tbody tr"),o=[];jQuery.each(n,(function(){o.push(this.id)})),e(l,o)&&(s=!0),s||i.classList.contains("saved")||confirm("All unsaved changes will be lost. Do you want to continue?")||t.preventDefault()}))}(),o(v),i(m),h=document.querySelector("#wdss-advanced-jsonld-schema-condition input"),S=document.querySelector(".wdss-jsonld-schema-predifined-settings"),h.hasAttribute("checked")&&S.classList.add("disabled"),h.addEventListener("click",(function(){S.classList.contains("disabled")?S.classList.remove("disabled"):S.classList.add("disabled")})),t(y),n(r),Array.from(document.querySelectorAll('input[type="checkbox"')).forEach((function(e){e.addEventListener("click",(function(){e.hasAttribute("checked")?(e.removeAttribute("checked"),e.value=0,e.checked=!1):(e.setAttribute("checked","checked"),e.checked=!0,e.value=1)}))})),k=Array.from(document.querySelectorAll("#wdss-snippets-settings input")),document.querySelector("#wdss-toggle-options").addEventListener("click",(function(){k[0].hasAttribute("checked")?k.forEach((function(e){e.removeAttribute("checked"),e.checked=!1})):k.forEach((function(e){e.setAttribute("checked","checked"),e.checked=!0}))})),Array.from(document.querySelectorAll(".wdss-setting-item-accordion")).forEach((function(e){var t=e.nextElementSibling;e.addEventListener("click",(function(){t.classList.contains("active")?(e.classList.remove("opened"),t.classList.remove("active")):(e.classList.add("opened"),t.classList.add("active"))}))})))}))})();